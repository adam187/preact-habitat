var t=require("preact"),e=function(t){return t.replace(/-([a-z])/gi,function(t,e){return e.toUpperCase()})},r=function(t){return void 0===t&&(t=!0),document.currentScript||function(){if(!t)throw new Error("currentScript not found");var e=document.getElementsByTagName("script");return e[e.length-1]}()},n=function(t,r){void 0===r&&(r={});var n=t.attributes,i=Object.assign({},r);return Object.keys(n).forEach(function(t){if(n.hasOwnProperty(t)){var r=n[t].name;if(!r||"string"!=typeof r)return!1;var a=r.split(/(data-props?-)/).pop()||"";if(a=e(a),r!==a){var c=n[t].nodeValue;i[a]=c}}}),[].forEach.call(t.getElementsByTagName("script"),function(t){var e={};if(t.hasAttribute("type")){if("text/props"!==t.getAttribute("type")&&"application/json"!==t.getAttribute("type"))return;try{e=JSON.parse(t.innerHTML)}catch(t){throw new Error(t)}Object.assign(i,e)}}),i},i=function(t){var e=t.attributes,r=null;return Object.keys(e).forEach(function(t){if(e.hasOwnProperty(t)){"data-mount-in"===e[t].name&&(r=e[t].nodeValue)}}),r},a=function(t){var e=t.selector,n=t.inline,a=t.clientSpecified,c=t.scriptFallback,o=[],u=r(c);if(!0===n){var l=u.parentNode;o.push(l)}return!0!==a||e||(e=i(u)),e&&[].forEach.call(document.querySelectorAll(e),function(t){o.push(t)}),o},c=function(e,r,i,a,c){r.forEach(function(r){var o=r;if(!o._habitat){o._habitat=!0;var u=n(r,c)||c;return a&&(o.innerHTML=""),t.render(t.h(e,u),o,i)}})},o=function(t){var e=t;return{render:function(t){void 0===t&&(t={});var r=t.selector;void 0===r&&(r=null);var n=t.inline;void 0===n&&(n=!1);var i=t.clean;void 0===i&&(i=!1);var o=t.clientSpecified;void 0===o&&(o=!1);var u=t.scriptFallback;void 0===u&&(u=!0);var l=t.defaultProps;void 0===l&&(l={});var f=a({selector:r,inline:n,clientSpecified:o,scriptFallback:u}),p=function(){if(f.length>0){var t=a({selector:r,inline:n,clientSpecified:o,scriptFallback:u});return c(e,t,null,i,l)}};p(),document.addEventListener("DOMContentLoaded",p),document.addEventListener("load",p)}}};module.exports=o;
//# sourceMappingURL=preact-habitat.js.map