!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("preact")):"function"==typeof define&&define.amd?define(["preact"],t):e.preactHabitat=t(e.preact)}(this,function(e){var t=function(e){return e.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()})},r=function(e){return void 0===e&&(e=!0),document.currentScript||function(){if(!e)throw new Error("currentScript not found");var t=document.getElementsByTagName("script");return t[t.length-1]}()},n=function(e,r){void 0===r&&(r={});var n=e.attributes,i=Object.assign({},r);return Object.keys(n).forEach(function(e){if(n.hasOwnProperty(e)){var r=n[e].name;if(!r||"string"!=typeof r)return!1;var a=r.split(/(data-props?-)/).pop()||"";if(a=t(a),r!==a){var o=n[e].nodeValue;i[a]=o}}}),[].forEach.call(e.getElementsByTagName("script"),function(e){var t={};if(e.hasAttribute("type")){if("text/props"!==e.getAttribute("type")&&"application/json"!==e.getAttribute("type"))return;try{t=JSON.parse(e.innerHTML)}catch(e){throw new Error(e)}Object.assign(i,t)}}),i},i=function(e){var t=e.attributes,r=null;return Object.keys(t).forEach(function(e){if(t.hasOwnProperty(e)){"data-mount-in"===t[e].name&&(r=t[e].nodeValue)}}),r},a=function(e){var t=e.selector,n=e.inline,a=e.clientSpecified,o=e.scriptFallback,c=[],u=r(o);if(!0===n){var f=u.parentNode;c.push(f)}return!0!==a||t||(t=i(u)),t&&[].forEach.call(document.querySelectorAll(t),function(e){c.push(e)}),c},o=function(t,r,i,a,o){r.forEach(function(r){var c=r;if(c&&!c._habitat){c._habitat=!0;var u=n(r,o)||o;return a&&(c.innerHTML=""),e.render(e.h(t,u),c,i)}})};return function(e){var t=e;return{render:function(e){void 0===e&&(e={});var r=e.selector;void 0===r&&(r=null);var n=e.inline;void 0===n&&(n=!1);var i=e.clean;void 0===i&&(i=!1);var c=e.clientSpecified;void 0===c&&(c=!1);var u=e.scriptFallback;void 0===u&&(u=!0);var f=e.defaultProps;void 0===f&&(f={});var l=a({selector:r,inline:n,clientSpecified:c,scriptFallback:u}),p=function(){if(l.length>0)try{var e=a({selector:r,inline:n,clientSpecified:c,scriptFallback:u});return o(t,e,null,i,f)}catch(e){console.error(e)}};p(),document.addEventListener("DOMContentLoaded",p),document.addEventListener("load",p)}}}});
//# sourceMappingURL=preact-habitat.umd.js.map